<!DOCTYPE html>
<html>
  <head>
  <title>A Weird Compiler and It's Visualization – Zephyrl – Welcome to Zephyrl's Workshop!</title>

      <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="

[Fast Access] to the visualization.

Weird-o-Compiler is the outcome of the course Compiler Theory which I took in my third year of bachelor’s education. The work is collaborated with Yehang Yin, a reliable and respectable friend of mine. We also take the Numerical Analysis course together.

Here’s another [LINK] to the source repository.

What WoC Supports and what not?

WoC is a C-like and Javasricpt-like compiler with weird restrictions

Supports:

  functions, nested functions
  all loop kinds of C, break &amp; continue
  branching (if &amp; else)
  label and goto
  variable
  all logical and numerical operations of C


Not supports:

  No MACRO
  No struct &amp; union
  No pointers
  No dynamic strong types (but have built-in types)


What is the function of WoC?

You could imagine WoC as something like GCC (ROFL), it can


  
    Compile codes writen in WoC syntax, to intermediate representation / Assembly
  
  
    Help you locate errors in your WoC program
  
  
    Create a visualization of IR tree for your code
  


How to work with it?

To test and use this project, you should


  
    Build the project on your platform (Linux 64-bit suggested),
  
  
    Write a piece of code as if you are programming in C, but be careful with the rules
  
  
    Run the following command to Compile with WoC
  


woc [file] [options]
Options:
        -a      Generating AST in JSON
        -i      Generating IR tree in JSON
        -s      Generating symbol table for scopes in JSON
        -c      Generating assemble code, in WOCASM 
        -d      Debug mode, programmer should define usage in parse.y


What did we use to create WoC?

The tools are introduced and learnt via the labs of this course, basically, Bison and YAML. We design our tokens, and rules to interpret statements, then make use of these tools to complete the first several steps to build a compiler. As for the construction of IR tree, the re-coding to assembly, and the visualization of the tree, these are totally carried out on our own.

Two successful and one unsuccessful example

Example #1
var __var = 3;
var val = __var;

function foo() {
    var bar = val &lt;&lt; 2;
    __var += val * bar &gt; 0 ? __var : val &gt;&gt; __var;
    return bar + __var;
}

function main(argc, argv)
{
    var a = "hello world";
    function hello(para1, para2) { return null; }
    if(a == "hello") {
        for(var i = 0; i &lt; 10; i++)
        {
            print(a);
        }
    } else if(a[0] == 'h')
    {
        print(a);
    } else {
        print("foo");
    }
    return 0;
}

You could simply compile this piece of code with WoC, and check the outcomes either with our visualization tool, or look into the output called xxx.wocasm. This example shows you that WoC shares basic syntax with C.

Example #2
function main(argc, argv) {
    function max(a, b) {
        return a &gt; b ? a : b;
    }
    return max(1, max(2, 3));
}

Nested functions, C no longer supports this feature, while you could still do this in WoC, as you declare a member function for a class, noted that the function can only be used within that scope.

Error
var __var = 3;
var val = __var;

function foo() {
    var bar = val &lt;&lt; 2;
    __var += val * bar &gt; 0 ? __var : val &gt;&gt; __var // Semicolon 
    return bar + __var;                           // missed
}

function main(argc, argv)
{
    var a = "hello world";
    else print(4); // Mismatched else statement
    function hello(para1, para2) { return null; }
    if(a == "hello") {
    for(var i = 0; i &lt; 10; i++)
    {
        print(1 + 1 = 3); // Non-left-value
    }
    } else if(a[0] == 'h')
    {
        print(a);
    } else {
        print("foo") // Yet another semicolon missed
    }
    return 0;
}


This is similar to example 1, while it contains some mindless mistakes, WoC would help you locate them:



Visualization Tool

The Visualization Tool, introduced by Yehang, could display a tree structure, which is represented by a JSON file. So it actually not only works for our program, you could even use it to visualize tree structured somewhere else.

Where should the JSON file come from? Our WoC prepares this function to you, see in the options, with “-i” you would easily get it. And by clicking the red archieve button on the bottom-left corner, you could select which JSON file to load in.

Side Notes

You might wonder where the name of this project comes from, actually, we just thought the syntax we designed is kind of weird, so we would like to name it Weird Compiler, however then we realize the abbreviation of it is not supposed to be WC anyway, so we add an emoji like “-o-” between the words, which at the same time represents our emotions developing such a compiler, yarning in the midnights – it seems not a easy task to do with anyway. Then Eventually, the compiler is call WoC.

2018-06-30
" />
    <meta property="og:description" content="

[Fast Access] to the visualization.

Weird-o-Compiler is the outcome of the course Compiler Theory which I took in my third year of bachelor’s education. The work is collaborated with Yehang Yin, a reliable and respectable friend of mine. We also take the Numerical Analysis course together.

Here’s another [LINK] to the source repository.

What WoC Supports and what not?

WoC is a C-like and Javasricpt-like compiler with weird restrictions

Supports:

  functions, nested functions
  all loop kinds of C, break &amp; continue
  branching (if &amp; else)
  label and goto
  variable
  all logical and numerical operations of C


Not supports:

  No MACRO
  No struct &amp; union
  No pointers
  No dynamic strong types (but have built-in types)


What is the function of WoC?

You could imagine WoC as something like GCC (ROFL), it can


  
    Compile codes writen in WoC syntax, to intermediate representation / Assembly
  
  
    Help you locate errors in your WoC program
  
  
    Create a visualization of IR tree for your code
  


How to work with it?

To test and use this project, you should


  
    Build the project on your platform (Linux 64-bit suggested),
  
  
    Write a piece of code as if you are programming in C, but be careful with the rules
  
  
    Run the following command to Compile with WoC
  


woc [file] [options]
Options:
        -a      Generating AST in JSON
        -i      Generating IR tree in JSON
        -s      Generating symbol table for scopes in JSON
        -c      Generating assemble code, in WOCASM 
        -d      Debug mode, programmer should define usage in parse.y


What did we use to create WoC?

The tools are introduced and learnt via the labs of this course, basically, Bison and YAML. We design our tokens, and rules to interpret statements, then make use of these tools to complete the first several steps to build a compiler. As for the construction of IR tree, the re-coding to assembly, and the visualization of the tree, these are totally carried out on our own.

Two successful and one unsuccessful example

Example #1
var __var = 3;
var val = __var;

function foo() {
    var bar = val &lt;&lt; 2;
    __var += val * bar &gt; 0 ? __var : val &gt;&gt; __var;
    return bar + __var;
}

function main(argc, argv)
{
    var a = "hello world";
    function hello(para1, para2) { return null; }
    if(a == "hello") {
        for(var i = 0; i &lt; 10; i++)
        {
            print(a);
        }
    } else if(a[0] == 'h')
    {
        print(a);
    } else {
        print("foo");
    }
    return 0;
}

You could simply compile this piece of code with WoC, and check the outcomes either with our visualization tool, or look into the output called xxx.wocasm. This example shows you that WoC shares basic syntax with C.

Example #2
function main(argc, argv) {
    function max(a, b) {
        return a &gt; b ? a : b;
    }
    return max(1, max(2, 3));
}

Nested functions, C no longer supports this feature, while you could still do this in WoC, as you declare a member function for a class, noted that the function can only be used within that scope.

Error
var __var = 3;
var val = __var;

function foo() {
    var bar = val &lt;&lt; 2;
    __var += val * bar &gt; 0 ? __var : val &gt;&gt; __var // Semicolon 
    return bar + __var;                           // missed
}

function main(argc, argv)
{
    var a = "hello world";
    else print(4); // Mismatched else statement
    function hello(para1, para2) { return null; }
    if(a == "hello") {
    for(var i = 0; i &lt; 10; i++)
    {
        print(1 + 1 = 3); // Non-left-value
    }
    } else if(a[0] == 'h')
    {
        print(a);
    } else {
        print("foo") // Yet another semicolon missed
    }
    return 0;
}


This is similar to example 1, while it contains some mindless mistakes, WoC would help you locate them:



Visualization Tool

The Visualization Tool, introduced by Yehang, could display a tree structure, which is represented by a JSON file. So it actually not only works for our program, you could even use it to visualize tree structured somewhere else.

Where should the JSON file come from? Our WoC prepares this function to you, see in the options, with “-i” you would easily get it. And by clicking the red archieve button on the bottom-left corner, you could select which JSON file to load in.

Side Notes

You might wonder where the name of this project comes from, actually, we just thought the syntax we designed is kind of weird, so we would like to name it Weird Compiler, however then we realize the abbreviation of it is not supposed to be WC anyway, so we add an emoji like “-o-” between the words, which at the same time represents our emotions developing such a compiler, yarning in the midnights – it seems not a easy task to do with anyway. Then Eventually, the compiler is call WoC.

2018-06-30
" />
    
    <meta name="author" content="Zephyrl" />

    
    <meta property="og:title" content="A Weird Compiler and It's Visualization" />
    <meta property="twitter:title" content="A Weird Compiler and It's Visualization" />
    
  <!-- Async font loading -->
<script>
  window.WebFontConfig = {
      custom: {
          families: ['Spoqa Han Sans:100,300,400,700'],
          urls: ['https://spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css']
      },
      timeout: 60000
  };
  (function(d) {
      var wf = d.createElement('script'), s = d.scripts[0];
      wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js';
      s.parentNode.insertBefore(wf, s);
  })(document);
</script>

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link rel="stylesheet" type="text/css" href="/style.css" />
  <link rel="alternate" type="application/rss+xml" title="Zephyrl - Welcome to Zephyrl's Workshop!" href="/feed.xml" />
  <link rel="shortcut icon" href="/images/saika-fav.jpg">
  <script src="https://kit.fontawesome.com/56f7faf3f4.js"></script>


  <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->

</head>
  <body>
    <div class="wrapper-sidebar">
  <header class="sidebar clearfix">
    <div class="site-info">
      
        <a href="/" class="site-avatar"><img src="/images/saika.jfif" /></a>
       
      <h1 class="site-name"><a href="/">Zephyrl</a></h1>
      <p class="site-description">Welcome to Zephyrl's Workshop!</p>
    </div>
  </header>

  <div class="navlist">
    <nav>
      
      
      <a href="/">Home</a>
      
      
      
      <a href="/about">About</a>
      
      
      
      <a href="/archive">Archive</a>
      
      
      
      <a href="/tags">Tags</a>
      
      
    </nav>
  </div>

  <div class="wrapper-footer-desktop">
    <footer class="footer">
      <!-- Refer to https://codepen.io/ruandre/pen/howFi -->
<ul class="svg-icon">

  
  
  

  

  
  <li><a href="mailto:zhy@kth.se" class="icon-8 email" title="Email"><svg viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg><!--[if lt IE 9]><em>Email</em><![endif]--></a></li>
  

  

  

  
  <li><a href="https://github.com/https://github.com/ZephyrL" class="icon-13 github" title="GitHub"><svg viewBox="0 0 512 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg><!--[if lt IE 9]><em>GitHub</em><![endif]--></a></li>
  

  

  
  <li><a href="https://www.linkedin.com/in/https://www.linkedin.com/in/yang-zhou-60067799/" class="icon-17 linkedin" title="LinkedIn"><svg viewBox="0 0 512 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg><!--[if lt IE 9]><em>LinkedIn</em><![endif]--></a></li>
  

  

  

  

  

  

  

</ul>



<p>Copyright (c) 2019 来自中世界</p>

    </footer>
  </div>
</div>

    <div id="main" role="main" class="wrapper-content">
      <article class="posts">
  <h1>A Weird Compiler and It's Visualization</h1>

  <div clsss="meta">
    <span class="date">
      2018-06-30
    </span>

    <ul class="tag">
      
      <li>
        <a href="http://localhost:4000/tags#C">
          C
        </a>
      </li>
      
      <li>
        <a href="http://localhost:4000/tags#Compiler">
          Compiler
        </a>
      </li>
      
    </ul>
  </div>

  <div class="entry">
    <p><img src="/images/woc/tree.png" alt="img" /></p>

<p><a href="https://celphi-misc.github.io/woc-visualization/">[Fast Access]</a> to the visualization.</p>

<p>Weird-o-Compiler is the outcome of the course Compiler Theory which I took in my third year of bachelor’s education. The work is collaborated with Yehang Yin, a reliable and respectable friend of mine. We also take the Numerical Analysis course together.</p>

<p>Here’s another <a href="https://github.com/celphi-misc/weird-o-compiler">[LINK]</a> to the source repository.</p>

<h2 id="what-woc-supports-and-what-not">What WoC Supports and what not?</h2>

<p>WoC is a C-like and Javasricpt-like compiler with weird restrictions</p>

<p>Supports:</p>
<ul>
  <li>functions, nested functions</li>
  <li>all loop kinds of C, break &amp; continue</li>
  <li>branching (if &amp; else)</li>
  <li>label and goto</li>
  <li>variable</li>
  <li>all logical and numerical operations of C</li>
</ul>

<p>Not supports:</p>
<ul>
  <li>No MACRO</li>
  <li>No struct &amp; union</li>
  <li>No pointers</li>
  <li>No dynamic strong types (but have built-in types)</li>
</ul>

<h2 id="what-is-the-function-of-woc">What is the function of WoC?</h2>

<p>You could imagine WoC as something like GCC (ROFL), it can</p>

<ul>
  <li>
    <p>Compile codes writen in WoC syntax, to intermediate representation / Assembly</p>
  </li>
  <li>
    <p>Help you locate errors in your WoC program</p>
  </li>
  <li>
    <p>Create a visualization of IR tree for your code</p>
  </li>
</ul>

<h2 id="how-to-work-with-it">How to work with it?</h2>

<p>To test and use this project, you should</p>

<ol>
  <li>
    <p>Build the project on your platform (Linux 64-bit suggested),</p>
  </li>
  <li>
    <p>Write a piece of code as if you are programming in C, but be careful with the rules</p>
  </li>
  <li>
    <p>Run the following command to <strong>Compile with WoC</strong></p>
  </li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>woc [file] [options]
Options:
        -a      Generating AST in JSON
        -i      Generating IR tree in JSON
        -s      Generating symbol table for scopes in JSON
        -c      Generating assemble code, in WOCASM 
        -d      Debug mode, programmer should define usage in parse.y
</code></pre></div></div>

<h2 id="what-did-we-use-to-create-woc">What did we use to create WoC?</h2>

<p>The tools are introduced and learnt via the labs of this course, basically, <strong>Bison and YAML</strong>. We design our tokens, and rules to interpret statements, then make use of these tools to complete the first several steps to build a compiler. As for the construction of IR tree, the re-coding to assembly, and the visualization of the tree, these are totally carried out on our own.</p>

<h2 id="two-successful-and-one-unsuccessful-example">Two successful and one unsuccessful example</h2>

<h3 id="example-1">Example #1</h3>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">var</span> <span class="n">__var</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">var</span> <span class="n">val</span> <span class="o">=</span> <span class="n">__var</span><span class="p">;</span>

<span class="n">function</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">var</span> <span class="n">bar</span> <span class="o">=</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">__var</span> <span class="o">+=</span> <span class="n">val</span> <span class="o">*</span> <span class="n">bar</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">__var</span> <span class="o">:</span> <span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="n">__var</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">bar</span> <span class="o">+</span> <span class="n">__var</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">function</span> <span class="nf">main</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="s">"hello world"</span><span class="p">;</span>
    <span class="n">function</span> <span class="n">hello</span><span class="p">(</span><span class="n">para1</span><span class="p">,</span> <span class="n">para2</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">null</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="s">"hello"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="n">var</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'h'</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="s">"foo"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>You could simply compile this piece of code with WoC, and check the outcomes either with our <a href="https://celphi-misc.github.io/woc-visualization/">visualization tool</a>, or look into the output called xxx.wocasm. This example shows you that WoC shares basic syntax with C.</p>

<h3 id="example-2">Example #2</h3>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">function</span> <span class="nf">main</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">function</span> <span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span> <span class="o">?</span> <span class="n">a</span> <span class="o">:</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Nested functions, C no longer supports this feature, while you could still do this in WoC, as you declare a member function for a class, noted that the function can only be used within that scope.</p>

<h3 id="error">Error</h3>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">var</span> <span class="n">__var</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">var</span> <span class="n">val</span> <span class="o">=</span> <span class="n">__var</span><span class="p">;</span>

<span class="n">function</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">var</span> <span class="n">bar</span> <span class="o">=</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">__var</span> <span class="o">+=</span> <span class="n">val</span> <span class="o">*</span> <span class="n">bar</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">__var</span> <span class="o">:</span> <span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="n">__var</span> <span class="c1">// Semicolon </span>
    <span class="k">return</span> <span class="n">bar</span> <span class="o">+</span> <span class="n">__var</span><span class="p">;</span>                           <span class="c1">// missed</span>
<span class="p">}</span>

<span class="n">function</span> <span class="nf">main</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="s">"hello world"</span><span class="p">;</span>
    <span class="k">else</span> <span class="n">print</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="c1">// Mismatched else statement</span>
    <span class="n">function</span> <span class="n">hello</span><span class="p">(</span><span class="n">para1</span><span class="p">,</span> <span class="n">para2</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">null</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="s">"hello"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="n">var</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// Non-left-value</span>
    <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'h'</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="s">"foo"</span><span class="p">)</span> <span class="c1">// Yet another semicolon missed</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>
<p>This is similar to example 1, while it contains some mindless mistakes, WoC would help you locate them:</p>

<p><img src="/images/woc/error.png" alt="img" /></p>

<h2 id="visualization-tool">Visualization Tool</h2>

<p>The <a href="https://celphi-misc.github.io/woc-visualization/">Visualization Tool</a>, introduced by Yehang, could display a tree structure, which is represented by a JSON file. So it actually not only works for our program, you could even use it to visualize tree structured somewhere else.</p>

<p>Where should the JSON file come from? Our WoC prepares this function to you, see in the options, with “-i” you would easily get it. And by clicking the red archieve button on the bottom-left corner, you could select which JSON file to load in.</p>

<h3 id="side-notes">Side Notes</h3>

<p>You might wonder where the name of this project comes from, actually, we just thought the syntax we designed is kind of weird, so we would like to name it Weird Compiler, however then we realize the abbreviation of it is not supposed to be WC anyway, so we add an emoji like “<strong>-o-</strong>” between the words, which at the same time represents our emotions developing such a compiler, yarning in the midnights – it seems not a easy task to do with anyway. Then Eventually, the compiler is call WoC.</p>

<p>2018-06-30</p>

  </div>

  
</article>

<div class="pagination">
  
    <span class="prev" >
      <a href="http://localhost:4000/First-Try-On-Unity-ISORunner/">
        ← Last Article
      </a>
    </span>
  
  
    <span class="next" >
      <a href="http://localhost:4000/SRS-vis/">
        Next Article →
      </a>
    </span>
  
</div>
    </div>

    

  </body>

  <div class="wrapper-footer-mobile">
    <footer class="footer">
      <!-- Refer to https://codepen.io/ruandre/pen/howFi -->
<ul class="svg-icon">

  
  
  

  

  
  <li><a href="mailto:zhy@kth.se" class="icon-8 email" title="Email"><svg viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg><!--[if lt IE 9]><em>Email</em><![endif]--></a></li>
  

  

  

  
  <li><a href="https://github.com/https://github.com/ZephyrL" class="icon-13 github" title="GitHub"><svg viewBox="0 0 512 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg><!--[if lt IE 9]><em>GitHub</em><![endif]--></a></li>
  

  

  
  <li><a href="https://www.linkedin.com/in/https://www.linkedin.com/in/yang-zhou-60067799/" class="icon-17 linkedin" title="LinkedIn"><svg viewBox="0 0 512 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg><!--[if lt IE 9]><em>LinkedIn</em><![endif]--></a></li>
  

  

  

  

  

  

  

</ul>



<p>Copyright (c) 2019 来自中世界</p>

    </footer>


</html>
